(wx["webpackJsonp"]=wx["webpackJsonp"]||[]).push([[10],{116:function(t,e,c){t.exports={comment:"comment-module__comment___RArmJ",count:"comment-module__count___3FSzJ"}},327:function(t,e,c){"use strict";c.r(e);var n=c(4),a=c(8),o=c.n(a),s=c(12),u=c(6),r=c(5),m=c(3),i=c.n(m),j=c(1),p=c(64),b=c(27),l=c(10),O=c(116),d=c.n(O),f=c(0),x=l["c"].appId,_=l["c"].appKey,h=l["c"].serverURLs,v=20,w=function(){var t=Object(r["useState"])([]),e=Object(u["a"])(t,2),c=e[0],n=e[1],a=Object(r["useState"])(0),l=Object(u["a"])(a,2),O=l[0],w=l[1],g=Object(r["useState"])(0),y=Object(u["a"])(g,2),J=y[0],S=y[1],R=Object(r["useState"])(!0),k=Object(u["a"])(R,2),A=k[0],B=k[1];Object(r["useEffect"])((function(){C()}),[O]),Object(m["useReachBottom"])((function(){A&&w(O+1)}));var C=function(){var t=Object(s["a"])(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i.a.cloud.callFunction({name:"comment",data:{appId:x,appKey:_,serverURLs:h,sql:"select count(*), * from Comment limit ".concat(O*v,",").concat(v," order by createdAt desc")}}).then((function(t){var e=t.result;e&&e.success&&(n(c.concat(e.data)),S(e.count),e.count<=(O+1)*v&&B(!1))})).catch();case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(f["jsxs"])(j["j"],{className:d.a.comment,children:[Object(f["jsx"])(j["i"],{className:d.a.count,children:"\u5171".concat(J,"\u6761\u8bc4\u8bba")}),Object(f["jsx"])(p["a"],{list:c,needJump:!0}),A?Object(f["jsx"])(b["a"],{text:"\u6b63\u5728\u52a0\u8f7d...",icon:"jingyu"}):Object(f["jsx"])(b["a"],{text:"\u672c\u6765\u65e0\u4e00\u7269\uff0c\u4f55\u5904\u60f9\u5c18\u57c3 ~"})]})},g=w,y={navigationBarTitleText:"\u5168\u90e8\u8bc4\u8bba"};Page(Object(n["createPageConfig"])(g,"pages/comment/comment",{root:{cn:[]}},y||{}))}},[[327,0,1,2,3]]]);